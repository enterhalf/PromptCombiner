# Prompt Combiner

![Prompt Combiner Screenshot](./assets/è½¯ä»¶ç•Œé¢.png)

## ä¸­æ–‡æ–‡æ¡£

### ğŸ¯ ç®€ä»‹

Prompt Combiner æ˜¯ä¸€æ¬¾è·¨å¹³å°çš„æç¤ºè¯ç®¡ç†å’Œç»„åˆå·¥å…·ï¼Œå¸®åŠ©ä½ é«˜æ•ˆåœ°ç»„ç»‡ã€ç®¡ç†å’Œç”Ÿæˆ AI æç¤ºè¯ã€‚

### âœ¨ ä¸»è¦åŠŸèƒ½

- **å¤šæ–‡æœ¬æ¡†ç®¡ç†**ï¼šåˆ›å»ºå¤šä¸ªæ–‡æœ¬æ¡†ï¼Œæ”¯æŒæ‹–æ‹½æ’åº
- **æ–‡ä»¶æ¡†ï¼ˆFile Boxï¼‰**ï¼šç®¡ç†å’Œå¼•ç”¨å¤šä¸ªæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆå¸¦æ–‡ä»¶è·¯å¾„çš„ä»£ç å—
  - æ”¯æŒæ‰¹é‡æ·»åŠ æ–‡ä»¶
  - å¯è®¾ç½®è·¯å¾„æ˜¾ç¤ºåˆ†æ®µæ•°
  - æ–‡ä»¶å†…å®¹è‡ªåŠ¨è¯»å–å¹¶ç”Ÿæˆä»£ç å—æ ¼å¼
- **ä¸‰ç§æ¨¡å¼**ï¼š
  - **æ™®é€šæ¨¡å¼**ï¼šå‚ä¸æœ€ç»ˆæç¤ºè¯ç”Ÿæˆ
  - **ç¦ç”¨æ¨¡å¼**ï¼šä¸å‚ä¸ç”Ÿæˆ
  - **å½±å­æ¨¡å¼**ï¼šä¸å‚ä¸ç”Ÿæˆï¼Œä½†å¯ä½œä¸ºå˜é‡ä½¿ç”¨ï¼ˆå¦‚ `{{å˜é‡å}}`ï¼‰
- **å˜ä½“æ”¯æŒ**ï¼šä¸ºæ¯ä¸ªæ–‡æœ¬æ¡†åˆ›å»ºå¤šä¸ªç‰ˆæœ¬ï¼Œæ–¹ä¾¿åˆ‡æ¢
- **è‡ªåŠ¨ä¿å­˜**ï¼šç¼–è¾‘å†…å®¹è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°
- **æ’¤é”€/é‡åš**ï¼šæ”¯æŒ Ctrl+Z æ’¤é”€ã€Ctrl+Y é‡åš
- **å·¥ä½œåŒºç®¡ç†**ï¼šé€‰æ‹©å·¥ä½œç›®å½•ï¼Œç®¡ç† `.prompt` æ–‡ä»¶

### ğŸ“¥ ä¸‹è½½å®‰è£…

æˆ‘ä»¬æä¾›é¢„ç¼–è¯‘çš„å®‰è£…åŒ…ï¼Œæ”¯æŒ Windowsã€macOS å’Œ Linux ç³»ç»Ÿã€‚

1. è®¿é—®é¡¹ç›®çš„ [Releases é¡µé¢](../../releases)
2. æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ…ï¼š
   - **Windows**ï¼šä¸‹è½½ `.exe` æˆ– `.msi` å®‰è£…åŒ…
   - **macOS**ï¼šä¸‹è½½ `.dmg` é•œåƒæ–‡ä»¶
   - **Linux**ï¼šä¸‹è½½ `.AppImage` æˆ–å¯¹åº”çš„ deb/rpm åŒ…
3. è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰ç…§æç¤ºå®Œæˆå®‰è£…

### ğŸš€ å¿«é€Ÿå¼€å§‹

1. **é€‰æ‹©å·¥ä½œåŒº**ï¼šç‚¹å‡»å·¦ä¾§è¾¹æ çš„"é€‰æ‹©å·¥ä½œåŒº"ï¼Œé€‰æ‹©ä½ çš„å·¥ä½œç›®å½•
2. **åˆ›å»ºæ–‡ä»¶**ï¼šç‚¹å‡»"+ æ–°å»ºæ–‡ä»¶"åˆ›å»ºä¸€ä¸ªæ–°çš„ `.prompt` æ–‡ä»¶
3. **æ·»åŠ æ–‡æœ¬æ¡†**ï¼šç‚¹å‡»"+ Text Box"æ·»åŠ æ–‡æœ¬æ¡†ï¼Œæˆ–ç‚¹å‡»"+ File Box"æ·»åŠ æ–‡ä»¶æ¡†
4. **ç¼–è¾‘å†…å®¹**ï¼š
   - åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥ä½ çš„æç¤ºè¯å†…å®¹
   - åœ¨æ–‡ä»¶æ¡†ä¸­æ·»åŠ æ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç å—æ ¼å¼
5. **è®¾ç½®æ¨¡å¼**ï¼šé€šè¿‡ä¸‹æ‹‰èœå•è®¾ç½®æ–‡æœ¬æ¡†æ¨¡å¼ï¼ˆæ™®é€š/ç¦ç”¨/å½±å­ï¼‰
6. **ç”Ÿæˆæç¤ºè¯**ï¼šç‚¹å‡»"ç”Ÿæˆ"æˆ–"ç”Ÿæˆå¹¶å¤åˆ¶"æŒ‰é’®ç”Ÿæˆæœ€ç»ˆæç¤ºè¯

### ğŸ’¡ ä½¿ç”¨æŠ€å·§

- **æ‹–æ‹½æ’åº**ï¼šç›´æ¥æ‹–æ‹½æ–‡æœ¬æ¡†å¯ä»¥è°ƒæ•´é¡ºåº
- **è°ƒæ•´é«˜åº¦**ï¼šæ‹–æ‹½æ–‡æœ¬æ¡†åº•éƒ¨è¾¹ç¼˜å¯ä»¥è°ƒæ•´é«˜åº¦
- **ä½¿ç”¨å˜é‡**ï¼šå°†æ–‡æœ¬æ¡†è®¾ç½®ä¸º"å½±å­æ¨¡å¼"ï¼Œåœ¨å…¶ä»–æ–‡æœ¬æ¡†ä¸­ä½¿ç”¨ `{{å˜é‡å}}` å¼•ç”¨
- **åˆ›å»ºå˜ä½“**ï¼šç‚¹å‡»æ–‡æœ¬æ¡†å³ä¾§çš„"+"æŒ‰é’®åˆ›å»ºå˜ä½“ï¼Œæ–¹ä¾¿å¯¹æ¯”ä¸åŒç‰ˆæœ¬
- **ä¸´æ—¶å†…å®¹**ï¼šæ ‡é¢˜ä»¥ `!` å¼€å¤´çš„æ–‡æœ¬æ¡†å†…å®¹ä¸ä¼šè¢«ä¿å­˜
- **æ–‡ä»¶æ¡†ä½¿ç”¨**ï¼š
  - ç‚¹å‡»"Click or drag files here"æ·»åŠ æ–‡ä»¶
  - è®¾ç½®"Path segments"æ§åˆ¶æ˜¾ç¤ºçš„è·¯å¾„å±‚çº§ï¼ˆ0 æ˜¾ç¤ºå®Œæ•´è·¯å¾„ï¼‰
  - å‹¾é€‰/å–æ¶ˆå‹¾é€‰æ–‡ä»¶æ§åˆ¶æ˜¯å¦åŒ…å«åœ¨è¾“å‡ºä¸­
  - æ–‡ä»¶å†…å®¹ä¼šè‡ªåŠ¨è¯»å–å¹¶ä»¥ä»£ç å—å½¢å¼åŒ…å«åœ¨ç”Ÿæˆçš„æç¤ºè¯ä¸­

### âŒ¨ï¸ å¿«æ·é”®

- `Ctrl + Z`ï¼šæ’¤é”€
- `Ctrl + Y`ï¼šé‡åš

---

<a name="english"></a>

## English Documentation

### ğŸ¯ Introduction

Prompt Combiner is a cross-platform prompt management and combination tool that helps you efficiently organize, manage, and generate AI prompts.

### âœ¨ Features

- **Multiple Text Boxes**: Create and manage multiple text boxes with drag-and-drop reordering
- **File Box**: Manage and reference multiple files, automatically generate code blocks with file paths
  - Support batch file addition
  - Configurable path segment display
  - Automatic file content reading and code block generation
- **Three Modes**:
  - **Normal**: Participates in final prompt generation
  - **Disabled**: Excluded from generation
  - **Shadow**: Excluded from generation but available as variables (e.g., `{{variable_name}}`)
- **Variants Support**: Create multiple versions for each text box for easy switching
- **Auto Save**: Automatically save edits to local storage
- **Undo/Redo**: Support Ctrl+Z for undo and Ctrl+Y for redo
- **Workspace Management**: Select workspace directory and manage `.prompt` files

### ğŸ“¥ Download & Install

We provide pre-built installation packages for Windows, macOS, and Linux.

1. Visit the [Releases page](../../releases)
2. Download the appropriate installation package for your operating system:
   - **Windows**: Download `.exe` or `.msi` installer
   - **macOS**: Download `.dmg` disk image
   - **Linux**: Download `.AppImage` or corresponding deb/rpm package
3. Run the installer and follow the prompts to complete the installation

### ğŸš€ Quick Start

1. **Select Workspace**: Click "Select Workspace" in the left sidebar to choose your working directory
2. **Create File**: Click "+ New File" to create a new `.prompt` file
3. **Add Text Boxes**: Click "+ Text Box" to add text boxes, or "+ File Box" to add file boxes
4. **Edit Content**:
   - Enter your prompt content in the text boxes
   - Add files to file boxes for automatic code block generation
5. **Set Mode**: Use the dropdown to set text box mode (Normal/Disabled/Shadow)
6. **Generate Prompt**: Click "Generate" or "Generate & Copy" to generate the final prompt

### ğŸ’¡ Tips

- **Drag to Reorder**: Drag text boxes directly to adjust their order
- **Resize**: Drag the bottom edge of text boxes to adjust height
- **Use Variables**: Set text box to "Shadow" mode and use `{{variable_name}}` in other text boxes to reference it
- **Create Variants**: Click the "+" button on the right side of text boxes to create variants for comparing different versions
- **Temporary Content**: Text boxes with titles starting with `!` will not be saved
- **File Box Usage**:
  - Click "Click or drag files here" to add files
  - Set "Path segments" to control displayed path levels (0 = full path)
  - Check/uncheck files to control inclusion in output
  - File contents are automatically read and included as code blocks in generated prompts

### âŒ¨ï¸ Keyboard Shortcuts

- `Ctrl + Z`: Undo
- `Ctrl + Y`: Redo

---

## ğŸ› ï¸ å¼€å‘è€…æŒ‡å— | Developer Guide

### æŠ€æœ¯æ ˆ | Tech Stack

- **å‰ç«¯ Frontend**: Svelte 4 + TypeScript
- **åç«¯ Backend**: Rust (Tauri)
- **æ ·å¼ Styling**: Tailwind CSS
- **æ„å»ºå·¥å…· Build Tool**: Vite

### ç¯å¢ƒè¦æ±‚ | Prerequisites

- Node.js 18+ and npm
- Rust and Cargo
- Tauri CLI

### å®‰è£…ä¾èµ– | Install Dependencies

```bash
npm install
```

### å®‰è£… Tauri CLI | Install Tauri CLI

```bash
npm install -g @tauri-apps/cli
```

### å¼€å‘æ¨¡å¼ | Development

è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š

```bash
npm run tauri dev
```

è¿™å°†åŒæ—¶å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨å’Œ Tauri åº”ç”¨ç¨‹åºã€‚

### æ„å»º | Building

æ„å»º Tauri åº”ç”¨ç¨‹åºï¼š

```bash
npm run tauri build
```

### é¡¹ç›®ç»“æ„ | Project Structure

```
prompt-combiner/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ TextBox.svelte      # æ–‡æœ¬æ¡†ç»„ä»¶ | Text box component with modes and variants
â”‚   â”‚   â”œâ”€â”€ FileBox.svelte      # æ–‡ä»¶æ¡†ç»„ä»¶ | File box component for managing files
â”‚   â”‚   â”œâ”€â”€ Separator.svelte     # åˆ†éš”ç¬¦ç»„ä»¶ | Separator component
â”‚   â”‚   â”œâ”€â”€ Sidebar.svelte       # æ–‡ä»¶æµè§ˆå™¨å’Œå¯¼èˆª | File browser and navigation
â”‚   â”‚   â””â”€â”€ Workbench.svelte     # ç”Ÿæˆå’Œå¤§çº²è§†å›¾ | Generation and outline view
â”‚   â”œâ”€â”€ App.svelte               # ä¸»åº”ç”¨ç»„ä»¶ | Main application component
â”‚   â”œâ”€â”€ main.ts                  # åº”ç”¨å…¥å£ | Application entry point
â”‚   â”œâ”€â”€ app.css                  # å…¨å±€æ ·å¼ | Global styles
â”‚   â”œâ”€â”€ store.ts                 # Svelte çŠ¶æ€ç®¡ç† | Svelte store for state management
â”‚   â”œâ”€â”€ types.ts                 # TypeScript ç±»å‹å®šä¹‰ | TypeScript type definitions
â”‚   â””â”€â”€ tauri-api.ts             # Tauri API å°è£… | Tauri API wrapper functions
â”œâ”€â”€ src-tauri/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ main.rs              # Rust åç«¯æ–‡ä»¶ I/O | Rust backend with file I/O
â”‚   â”œâ”€â”€ Cargo.toml               # Rust ä¾èµ– | Rust dependencies
â”‚   â””â”€â”€ tauri.conf.json          # Tauri é…ç½® | Tauri configuration
â”œâ”€â”€ package.json                 # Node.js ä¾èµ– | Node.js dependencies
â”œâ”€â”€ vite.config.ts               # Vite é…ç½® | Vite configuration
â”œâ”€â”€ tailwind.config.js           # Tailwind CSS é…ç½® | Tailwind CSS configuration
â””â”€â”€ tsconfig.json                # TypeScript é…ç½® | TypeScript configuration
```

### æ–‡ä»¶æ ¼å¼ | File Format

`.prompt` æ–‡ä»¶ä»¥ JSON æ ¼å¼å­˜å‚¨ï¼Œç»“æ„å¦‚ä¸‹ï¼š

```json
{
  "order": ["id1", "id2", "id3"],
  "text_boxes": {
    "id1": {
      "id": "unique-id",
      "mode": "normal",
      "type": "text"
    }
  },
  "file_boxes": {
    "id3": {
      "id": "unique-id",
      "mode": "normal",
      "type": "file"
    }
  },
  "file_box_data": {
    "id3": {
      "height": 200,
      "path_segments": 2,
      "title": "Source Files",
      "files": [
        {
          "id": "file-id",
          "path": "/path/to/file.rs",
          "checked": true
        }
      ]
    }
  },
  "variants": {
    "id1": {
      "height": 150,
      "current_variant_index": 0,
      "variants": [
        {
          "content": "Example content",
          "title": "Example Title"
        }
      ]
    }
  },
  "separators": {}
}
```

### è®¾è®¡åŸåˆ™ | Design Principles

- **å•ä¸€èŒè´£åŸåˆ™ (SRP)**ï¼šæ¯ä¸ªç»„ä»¶å’Œæ¨¡å—éƒ½æœ‰å•ä¸€ã€æ˜ç¡®å®šä¹‰çš„ç›®çš„
- **é˜²å¾¡æ€§ç¼–ç¨‹**ï¼šæ‰€æœ‰æ–‡ä»¶æ“ä½œéƒ½åŒ…å«é”™è¯¯å¤„ç†
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé’ˆå¯¹è¿è¡Œæ—¶æ€§èƒ½å’Œç©ºé—²æ—¶ä½èµ„æºä½¿ç”¨è¿›è¡Œäº†ä¼˜åŒ–
- **æ•°æ®æŒä¹…åŒ–**ï¼šé€šè¿‡æœ€å°åŒ–ç£ç›˜ I/O æ“ä½œå®ç°æ•°æ®æŒä¹…åŒ–
- **ç”¨æˆ·ä½“éªŒ**ï¼šç®€æ´ã€ç®€å•çš„ç•Œé¢ï¼Œä½¿ç”¨è‰²å—ä¾¿äºå¯¼èˆª

---

## ğŸ“„ è®¸å¯è¯ | License

MIT

---

## ğŸ™ è‡´è°¢ | Acknowledgments

æ„Ÿè°¢ **Trae IDE** å¸®åŠ©å®Œæˆè¿™ä¸ªé¡¹ç›®ã€‚

Special thanks to **Trae IDE** for helping complete this project.
